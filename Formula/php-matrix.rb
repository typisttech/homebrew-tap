# DO NOT EDIT THIS FILE
# This file is generated by "internal/formula/php-matrix/main.go"
class PhpMatrix < Formula
  desc "List PHP versions that satisfy the required PHP constraint in composer.json"
  homepage "https://github.com/typisttech/php-matrix"
  version "1.0.13"
  license "MIT"

  livecheck do
    url :stable
    strategy :github_latest do |json, regex|
      match = json["tag_name"]&.match(regex)
      next if match.blank?

      match[1]
    end
  end

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/typisttech/php-matrix/releases/download/v1.0.13/php-matrix_darwin_arm64.tar.gz"
      sha256 "5f85b9242e2d2232655c5b273511bf9903c5d7e29bc719d1fb4ea0a53a44ed40"
    end
    if Hardware::CPU.intel?
      url "https://github.com/typisttech/php-matrix/releases/download/v1.0.13/php-matrix_darwin_amd64.tar.gz"
      sha256 "8159490f620a98dc05ecf990a960a7f7e566e804b60562310fd8b2ed3ea49bd6"
    end
  end

  on_linux do
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/typisttech/php-matrix/releases/download/v1.0.13/php-matrix_linux_arm64.tar.gz"
      sha256 "1eb8e407e5f36220a2c11182afecaa96e4807ad4b5a02dbea8c6176c7e67d2d7"
    end
    if Hardware::CPU.intel? && Hardware::CPU.is_64_bit?
      url "https://github.com/typisttech/php-matrix/releases/download/v1.0.13/php-matrix_linux_amd64.tar.gz"
      sha256 "5ae2980d5438021668aba99c4c42915236426f2e89ff3a7d71ba3d9cb421a7d1"
    end
  end

  def install
    bin.install "php-matrix"
    generate_completions_from_executable(bin/"php-matrix", "completion")
  end

  test do
    regex = /PHP Matrix\s+v1.0.13/
    assert_match regex, shell_output("#{bin}/php-matrix --version")
  end
end
